<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="CF,">





  <link rel="alternate" href="/atom.xml" title="ç¡åˆ°äºŒä¸‰æ›´æ—¶      å‡¡è£åçš†æˆå¹»å¢ƒ" type="application/atom+xml">






<meta name="description" content="A. Serval and Buså¼€å¯ä¼ é€é—¨">
<meta name="keywords" content="CF">
<meta property="og:type" content="article">
<meta property="og:title" content="Codeforces Round 551">
<meta property="og:url" content="http://zuhiul.github.io/2019/04/14/CF/Codeforces_Round_551/index.html">
<meta property="og:site_name" content="ç¡åˆ°äºŒä¸‰æ›´æ—¶      å‡¡è£åçš†æˆå¹»å¢ƒ">
<meta property="og:description" content="A. Serval and Buså¼€å¯ä¼ é€é—¨">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_b_1.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_b_2.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_d_1.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_d_2.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_d_3.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_d_4.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_1.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_2.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_3.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_4.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_5.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_6.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_7.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_8.png">
<meta property="og:image" content="http://zuhiul.github.io/img/cf_1153_e_9.png">
<meta property="og:updated_time" content="2019-07-22T09:58:57.206Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Codeforces Round 551">
<meta name="twitter:description" content="A. Serval and Buså¼€å¯ä¼ é€é—¨">
<meta name="twitter:image" content="http://zuhiul.github.io/img/cf_1153_b_1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://zuhiul.github.io/2019/04/14/CF/Codeforces_Round_551/">





  <title>Codeforces Round 551 | ç¡åˆ°äºŒä¸‰æ›´æ—¶      å‡¡è£åçš†æˆå¹»å¢ƒ</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ç¡åˆ°äºŒä¸‰æ›´æ—¶      å‡¡è£åçš†æˆå¹»å¢ƒ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æ¯ä»½åŠªåŠ›,å¿…æœ‰å›æŠ¥</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://zuhiul.github.io/2019/04/14/CF/Codeforces_Round_551/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zuhiul">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://github.com/zuhiul/zuhiul.github.io/blob/master/img/main_image.jpg?raw=true">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ç¡åˆ°äºŒä¸‰æ›´æ—¶      å‡¡è£åçš†æˆå¹»å¢ƒ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Codeforces Round 551</h1>
        

        <div class="post-meta">
          <span class="post-time">
			

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-14T00:00:00+08:00">
                2019-04-14
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/14/CF/Codeforces_Round_551/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count gitment-comments-count" data-xid="/2019/04/14/CF/Codeforces_Round_551/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">é˜…è¯»æ•°
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>æ¬¡
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  6k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  32
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="A-Serval-and-Bus"><a href="#A-Serval-and-Bus" class="headerlink" title="A. Serval and Bus"></a>A. Serval and Bus</h2><p><a href="http://codeforces.com/contest/1153/problem/A" target="_blank" rel="noopener">å¼€å¯ä¼ é€é—¨</a></p>
<a id="more"></a>
<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>It is raining heavily. But this is the first day for Serval, who just became 3 years old, to go to the kindergarten. Unfortunately, he lives far from kindergarten, and his father is too busy to drive him there. The only choice for this poor little boy is to wait for a bus on this rainy day. Under such circumstances, the poor boy will use the first bus he sees no matter where it goes. If several buses come at the same time, he will choose one randomly.</p>
<p>Serval will go to the bus station at time $t$, and there are $n$ bus routes which stop at this station. For the $i$-th bus route, the first bus arrives at time $s_i$ minutes, and each bus of this route comes $d_i$ minutes later than the previous one.</p>
<p>As Servalâ€™s best friend, you wonder which bus route will he get on. If several buses arrive at the same time, you can print any of them.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two space-separated integers $n$ and $t$ (1â‰¤$n$â‰¤100, 1â‰¤$t$â‰¤$10^5$) $-$ the number of bus routes and the time Serval goes to the station.</p>
<p>Each of the next $n$ lines contains two space-separated integers $s_i$ and $d_i$ (1â‰¤$s_i,d_i$â‰¤$10^5$) $-$ the time when the first bus of this route arrives and the interval between two buses of this route.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print one number $-$ what bus route Serval will use. If there are several possible answers, you can print any of them.</p>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input1"><a href="#input1" class="headerlink" title="input1"></a>input1</h4><p>2 2</p>
<p>6 4</p>
<p>9 5</p>
<h4 id="output1"><a href="#output1" class="headerlink" title="output1"></a>output1</h4><p>1</p>
<h4 id="input2"><a href="#input2" class="headerlink" title="input2"></a>input2</h4><p>5 5</p>
<p>3 3</p>
<p>2 5</p>
<p>5 6</p>
<p>4 9</p>
<p>6 1</p>
<h4 id="output2"><a href="#output2" class="headerlink" title="output2"></a>output2</h4><p>3</p>
<h4 id="input3"><a href="#input3" class="headerlink" title="input3"></a>input3</h4><p>3 7</p>
<p>2 2</p>
<p>2 3</p>
<p>2 4</p>
<h4 id="output3"><a href="#output3" class="headerlink" title="output3"></a>output3</h4><p>1</p>
<h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>zuhiulå¾ˆå¿™ï¼Œä»–è¦çº¦å¦¹å­ï¼Œä»–ä¸€å…±æœ‰$n$ä¸ªå¦¹å­è¦çº¦ï¼Œä½†æ˜¯ä»–$t$å¤©åæ‰æœ‰ç©ºï¼Œå¦¹å­ä»¬ä¹Ÿä¸æ˜¯æ¯å¤©éƒ½æœ‰æ—¶é—´ï¼Œä½†æ˜¯å¦¹å­éƒ½æ˜¯å‘¨æœŸæ€§æœ‰æ—¶é—´ï¼Œæ¯”å¦‚ï¼Œç¬¬$i$ä¸ªå¦¹å­ï¼Œ$s_i$å¤©ä¹‹åæ‰æœ‰æ—¶é—´ï¼Œè€Œä¸”æ¯$d_i$å¤©å°±ä¼šå†æ¬¡å‡ºçº¿ï¼Œç°åœ¨é—®ä½ ï¼Œzuhiulæœ€æ—©ä¼šå’Œå“ªä¸ªå¦¹å­çº¦ä¼šï¼Œå¦‚æœä¼šå’Œå¤šä¸ªå¦¹å­çº¦ä¼šï¼Œåªéœ€è¦è¾“å‡ºä»»æ„ä¸€ä¸ªå¦¹å­å°±è¡Œäº†ã€‚</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>åªéœ€è¦æšä¸¾æ¯ä¸ªå¦¹å­ï¼Œç„¶åçœ‹ä¸€ä¸‹è¿™ä¸ªå¦¹å­ä»€ä¹ˆæ—¶å€™æœ€æ—©å¯ä»¥é‚€çº¦ï¼Œç„¶åç®—ä¸€ä¸‹minå°±å¯ä»¥äº†</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ç»™å¤§ä½¬é€’ä¸Šæˆ‘å¥‡ä¸‘æ— æ¯”çš„ä»£ç ã€€(<em>/Ï‰ï¼¼</em>)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> s[maxm],d[maxm];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n,t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;t;</span><br><span class="line">	<span class="keyword">int</span> ind,sum = <span class="number">1e8</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;s[i]&gt;&gt;d[i];</span><br><span class="line">		<span class="keyword">if</span>(s[i]&gt;=t)&#123;</span><br><span class="line">			<span class="keyword">if</span>(sum&gt;s[i])&#123;</span><br><span class="line">				sum = s[i];</span><br><span class="line">				ind = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">int</span> nee = t-s[i];</span><br><span class="line">			<span class="keyword">if</span>(nee%d[i]!=<span class="number">0</span>) nee = (nee/d[i]+<span class="number">1</span>)*d[i];</span><br><span class="line">			nee+=s[i];</span><br><span class="line">			<span class="keyword">if</span>(nee&lt;sum)&#123;</span><br><span class="line">				sum = nee;</span><br><span class="line">				ind = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ind&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="B-Serval-and-Toy-Bricks"><a href="#B-Serval-and-Toy-Bricks" class="headerlink" title="B. Serval and Toy Bricks"></a>B. Serval and Toy Bricks</h2><p><a href="http://codeforces.com/contest/1153/problem/B" target="_blank" rel="noopener">å¼€å¯ä¼ é€é—¨</a></p>
<h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>Luckily, Serval got onto the right bus, and he came to the kindergarten on time. After coming to kindergarten, he found the toy bricks very funny.</p>
<p>He has a special interest to create difficult problems for others to solve. This time, with many $1\times 1\times 1$ toy bricks, he builds up a 3-dimensional object. We can describe this object with a $n\times m$ matrix, such that in each cell $(i,j)$ , there are $h_{i,j}$ bricks standing on the top of each other.</p>
<p>However, Serval doesnâ€™t give you any $h_{i,j}$, and just give you the front view, left view, and the top view of this object, and he is now asking you to restore the object. Note that in the front view, there are $m$ columns, and in the $i$-th of them, the height is the maximum of $h_{1,i},h_{2,i},\dots,h_{n,i}$. It is similar for the left view, where there are $n$ columns. And in the top view, there is an ğ‘›Ã—ğ‘š matrix $t_{i,j}$, where $t_{i,j}$ is 0 or 1. If $t_{i,j}$ equals 1, that means $h_{i,j}$&gt;0, otherwise, $h_{i,j}$=0.</p>
<p>However, Serval is very lonely because others are bored about his unsolvable problems before, and refused to solve this one, although this time he promises there will be at least one object satisfying all the views. As his best friend, can you have a try?</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two space-separated integers $n$ and $t$ (1â‰¤$n$â‰¤100, 1â‰¤$t$â‰¤$10^5$) $-$ the number of bus routes and the time Serval goes to the station.</p>
<p>Each of the next $n$ lines contains two space-separated integers $s_i$ and $d_i$ (1â‰¤$s_i,d_i$â‰¤$10^5$) $-$ the time when the first bus of this route arrives and the interval between two buses of this route.</p>
<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><p>Print one number $-$ what bus route Serval will use. If there are several possible answers, you can print any of them.</p>
<h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input1-1"><a href="#input1-1" class="headerlink" title="input1"></a>input1</h4><p>3 7 3</p>
<p>2 3 0 0 2 0 1</p>
<p>2 1 3</p>
<p>1 0 0 0 1 0 0</p>
<p>0 0 0 0 0 0 1</p>
<p>1 1 0 0 0 0 0</p>
<h4 id="output1-1"><a href="#output1-1" class="headerlink" title="output1"></a>output1</h4><p>1 0 0 0 2 0 0</p>
<p>0 0 0 0 0 0 1</p>
<p>2 3 0 0 0 0 0</p>
<h4 id="input2-1"><a href="#input2-1" class="headerlink" title="input2"></a>input2</h4><p>4 5 5</p>
<p>3 5 2 0 4</p>
<p>4 2 5 4</p>
<p>0 0 0 0 1</p>
<p>1 0 1 0 0</p>
<p>0 1 0 0 0</p>
<p>1 1 1 0 0</p>
<h4 id="output2-1"><a href="#output2-1" class="headerlink" title="output2"></a>output2</h4><p>0 0 0 0 4</p>
<p>1 0 2 0 0</p>
<p>0 5 0 0 0</p>
<p>3 4 1 0 0</p>
<h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p><img src="/img/cf_1153_b_1.png" alt=""></p>
<p>The graph above illustrates the object in the first example.</p>
<p><img src="/img/cf_1153_b_2.png" alt=""></p>
<p>The first graph illustrates the object in the example output for the second example, and the second graph shows the three-view drawing of it.</p>
<h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>zuhiulå’Œå¦¹å­ç©æ¸¸æˆï¼Œå¦¹å­æ­äº†ä¸€ä¸ªç§¯æœ¨ï¼Œç„¶åzuhiulçŒœç§¯æœ¨é•¿å•¥æ ·ï¼Œzuhiulå¿…ç„¶ä¸ä¼šï¼Œäºæ˜¯å°å§å§æ”¾è¿‡äº†ä»–ï¼Œå‘Šè¯‰äº†ä»–ç°åœ¨çš„ä¸»è§†å›¾ï¼Œä¾§è§†å›¾å’Œä¿¯è§†å›¾ï¼Œç„¶åè®©zuhiulçŒœï¼Œzuhiulè¿˜æ˜¯ä¸ä¼šï¼Œä½†æ˜¯ä¸ºäº†è„¸é¢ä¸èƒ½è¯´ä¸ä¼šï¼Œç„¶åæ¥é—®ä½ äº†ã€‚ä½ éœ€è¦è¾“å‡ºä¸€ç§å¯èƒ½çš„è§£æ»¡è¶³è¿™ä¸ªä¸‰è§†å›¾ã€‚</p>
<h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>å‘Šè¯‰äº†ä¸»è§†å›¾å’Œå·¦è§†å›¾ï¼Œç›¸å½“äºé™åˆ¶äº†æœ€å¤§å€¼ï¼Œå‘Šè¯‰ä¿¯è§†å›¾ç›¸å½“äºå‘Šè¯‰å“ªé‡Œå¯èƒ½æœ‰æ–¹å—ã€‚ç„¶åæšä¸¾ä¿¯è§†å›¾çš„æ¯ä¸ªä½ç½®ï¼Œè¾“å‡ºç­”æ¡ˆå³å¯ã€‚</p>
<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ç»™å¤§ä½¬é€’ä¸Šæˆ‘å¥‡ä¸‘æ— æ¯”çš„ä»£ç ã€€(<em>/Ï‰ï¼¼</em>)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">int</span> hang[maxm],lie[maxm],nouse;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m&gt;&gt;nouse;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;m;i++) <span class="built_in">cin</span>&gt;&gt;hang[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;n;i++) <span class="built_in">cin</span>&gt;&gt;lie[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>,a;j&lt;m;j++)&#123;</span><br><span class="line">			<span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line">			<span class="keyword">if</span>(a) <span class="built_in">cout</span>&lt;&lt;min(lie[i],hang[j])&lt;&lt;<span class="string">' '</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">' '</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="C-Serval-and-Parenthesis-Sequence"><a href="#C-Serval-and-Parenthesis-Sequence" class="headerlink" title="C. Serval and Parenthesis Sequence"></a>C. Serval and Parenthesis Sequence</h2><p><a href="http://codeforces.com/contest/1153/problem/C" target="_blank" rel="noopener">å¼€å¯ä¼ é€é—¨</a></p>
<h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>Serval soon said goodbye to Japari kindergarten, and began his life in Japari Primary School.</p>
<p>In his favorite math class, the teacher taught him the following interesting definitions.</p>
<p>A parenthesis sequence is a string, containing only characters â€œ(â€œ and â€œ)â€.</p>
<p>A correct parenthesis sequence is a parenthesis sequence that can be transformed into a correct arithmetic expression by inserting characters â€œ1â€ and â€œ+â€ between the original characters of the sequence. For example, parenthesis sequences â€œ()()â€, â€œ(())â€ are correct (the resulting expressions are: â€œ(1+1)+(1+1)â€, â€œ((1+1)+1)â€), while â€œ)(â€œ and â€œ)â€ are not. Note that the empty string is a correct parenthesis sequence by definition.</p>
<p>We define that $|s|$ as the length of string $s$. A strict prefix $s[1\dots l]$ (1 â‰¤ $l$ &lt; $|s|$) of a string $s=s_{1}s_{2}\dots s_{|s|}$ is string $s_{1}s_{2}\dots s_{l}$. Note that the empty string and the whole string are not strict prefixes of any string by the definition.</p>
<p>Having learned these definitions, he comes up with a new problem. He writes down a string $s$ containing only characters â€œ(â€œ, â€œ)â€ and â€œ?â€. And what he is going to do, is to replace each of the â€œ?â€ in $s$ independently by one of â€œ(â€œ and â€œ)â€ to make all strict prefixes of the new sequence not a correct parenthesis sequence, while the new sequence should be a correct parenthesis sequence.</p>
<p>After all, he is just a primary school student so this problem is too hard for him to solve. As his best friend, can you help him to replace the question marks? If there are many solutions, any of them is acceptable.</p>
<h3 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h3><p>The first line contains a single integer $|s|$ (1â‰¤$|s|$â‰¤$3\cdot 10^5$), the length of the string.</p>
<p>The second line contains a string $s$, containing only â€œ(â€œ, â€œ)â€ and â€œ?â€.</p>
<h3 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h3><p>A single line contains a string representing the answer.</p>
<p>If there are many solutions, any of them is acceptable.</p>
<p>If there is no answer, print a single line containing â€œ:(â€œ (without the quotes).</p>
<h3 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input1-2"><a href="#input1-2" class="headerlink" title="input1"></a>input1</h4><p>6<br>(?????</p>
<h4 id="output1-2"><a href="#output1-2" class="headerlink" title="output1"></a>output1</h4><p>(()())</p>
<h4 id="input2-2"><a href="#input2-2" class="headerlink" title="input2"></a>input2</h4><p>10<br>(???(???(?</p>
<h4 id="output2-2"><a href="#output2-2" class="headerlink" title="output2"></a>output2</h4><p>:(</p>
<h3 id="Note-1"><a href="#Note-1" class="headerlink" title="Note"></a>Note</h3><p>It can be proved that there is no solution for the second sample, so print â€œ:(â€œ.</p>
<h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä½ ä¸€å †å·¦æ‹¬å·å³æ‹¬å·å’Œé—®å·ï¼Œé—®ä½ èƒ½å¦æŠŠé—®å·å˜æˆå·¦æ‹¬å·æˆ–è€…å³æ‹¬å·ï¼Œä½¿å¾—è¿™ä¸ªå˜æˆä¸€ä¸ªæ‹¬å·åŒ¹é…çš„åºåˆ—ï¼Œå¹¶ä¸”åºåˆ—çš„ä»»ä½•å‰ç¼€ä¸æ˜¯ä¸€ä¸ªæ‹¬å·åŒ¹é…åºåˆ—ã€‚</p>
<h3 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ˜¾ç„¶å¯¹äºåä¸€ä¸ªæ¡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦è®©æœ€å·¦è¾¹çš„å·¦æ‹¬å·å’Œæœ€å³è¾¹çš„å³æ‹¬å·åŒ¹é…å°±è¡Œäº†ï¼Œç„¶åä¸­é—´æ˜¯ä¸€ä¸ªæ‹¬å·åŒ¹é…åºåˆ—å°±è¡Œäº†ã€‚ç„¶åå¡«å……çš„æ—¶å€™è´ªå¿ƒçš„è®©å·¦è¾¹å¡«å……å·¦æ‹¬å·,å³è¾¹å¡«å……å³æ‹¬å·,ç„¶åcheckä¸€ä¸‹å°±è¡Œäº†.</p>
<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ç»™å¤§ä½¬é€’ä¸Šæˆ‘å¥‡ä¸‘æ— æ¯”çš„ä»£ç ã€€(<em>/Ï‰ï¼¼</em>)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> len;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">char</span> que[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">NO</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">":("</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;len&gt;&gt;que;</span><br><span class="line">	<span class="keyword">if</span>(len&amp;<span class="number">1</span>) NO();</span><br><span class="line">	<span class="keyword">if</span>(que[<span class="number">0</span>]==<span class="string">'?'</span>) que[<span class="number">0</span>] = <span class="string">'('</span>;</span><br><span class="line">	<span class="keyword">if</span>(que[len<span class="number">-1</span>]==<span class="string">'?'</span>) que[len<span class="number">-1</span>] = <span class="string">')'</span>;</span><br><span class="line">	<span class="keyword">if</span>(que[<span class="number">0</span>]!=<span class="string">'('</span>) NO();</span><br><span class="line">	<span class="keyword">if</span>(que[len<span class="number">-1</span>]!=<span class="string">')'</span>) NO();</span><br><span class="line">	<span class="keyword">if</span>(len==<span class="number">2</span>) &#123;</span><br><span class="line">		<span class="built_in">puts</span>(<span class="string">"()"</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> l = <span class="number">0</span>,r = <span class="number">0</span>,has = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;len<span class="number">-1</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(que[i]==<span class="string">'('</span>) l++;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(que[i]==<span class="string">')'</span>) r++;</span><br><span class="line">		<span class="keyword">else</span> has++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">abs</span>(l-r)&gt;has) NO();</span><br><span class="line">	l = (len<span class="number">-2</span>)/<span class="number">2</span> - l;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;len<span class="number">-1</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(que[i]==<span class="string">'?'</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span>(l)&#123;</span><br><span class="line">				que[i] = <span class="string">'('</span>;</span><br><span class="line">				l--;</span><br><span class="line">			&#125;<span class="keyword">else</span> que[i] = <span class="string">')'</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	has = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;len<span class="number">-1</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(que[i]==<span class="string">'('</span>) has++;</span><br><span class="line">		<span class="keyword">else</span> has--;</span><br><span class="line">		<span class="keyword">if</span>(has&lt;<span class="number">0</span>) NO();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">puts</span>(que);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="D-Serval-and-Rooted-Tree"><a href="#D-Serval-and-Rooted-Tree" class="headerlink" title="D. Serval and Rooted Tree"></a>D. Serval and Rooted Tree</h2><p><a href="http://codeforces.com/contest/1153/problem/D" target="_blank" rel="noopener">å¼€å¯ä¼ é€é—¨</a></p>
<h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>Now Serval is a junior high school student in Japari Middle School, and he is still thrilled on math as before.</p>
<p>As a talented boy in mathematics, he likes to play with numbers. This time, he wants to play with numbers on a rooted tree.</p>
<p>A tree is a connected graph without cycles. A rooted tree has a special vertex called the root. A parent of a node $v$ is the last different from $v$ vertex on the path from the root to the vertex $v$. Children of vertex $v$ are all nodes for which $v$ is the parent. A vertex is a leaf if it has no children.</p>
<p>The rooted tree Serval owns has $n$ nodes, node 1 is the root. Serval will write some numbers into all nodes of the tree. However, there are some restrictions. Each of the nodes except leaves has an operation max or min written in it, indicating that the number in this node should be equal to the maximum or minimum of all the numbers in its sons, respectively.</p>
<p>Assume that there are $k$ leaves in the tree. Serval wants to put integers $1,2,\dots,k$ to the $k$ leaves (each number should be used exactly once). He loves large numbers, so he wants to maximize the number in the root. As his best friend, can you help him?</p>
<h3 id="Input-3"><a href="#Input-3" class="headerlink" title="Input"></a>Input</h3><p>The first line contains an integer $n$ (2â‰¤$n$â‰¤$3\cdot 10^5$), the size of the tree.</p>
<p>The second line contains $n$ integers, the $i$-th of them represents the operation in the node $i$. 0 represents min and 1 represents max. If the node is a leaf, there is still a number of 0 or 1, but you can ignore it.</p>
<p>The third line contains $n-1$ integers $f_2,f_3,\dots,f_n$ (1â‰¤$f_iâ‰¤$i-1$), where $f_i$ represents the parent of the node $i$.</p>
<h3 id="Output-3"><a href="#Output-3" class="headerlink" title="Output"></a>Output</h3><p>Output one integer $-$ the maximum possible number in the root of the tree.</p>
<h3 id="Examples-3"><a href="#Examples-3" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input1-3"><a href="#input1-3" class="headerlink" title="input1"></a>input1</h4><p>6</p>
<p>1 0 1 1 0 1</p>
<p>1 2 2 2 2</p>
<h4 id="output1-3"><a href="#output1-3" class="headerlink" title="output1"></a>output1</h4><p>1</p>
<h4 id="input2-3"><a href="#input2-3" class="headerlink" title="input2"></a>input2</h4><p>5</p>
<p>1 0 1 0 1</p>
<p>1 1 1 1</p>
<h4 id="output2-3"><a href="#output2-3" class="headerlink" title="output2"></a>output2</h4><p>4</p>
<h4 id="input3-1"><a href="#input3-1" class="headerlink" title="input3"></a>input3</h4><p>8</p>
<p>1 0 0 1 0 1 1 0</p>
<p>1 1 2 2 3 3 3</p>
<h4 id="output3-1"><a href="#output3-1" class="headerlink" title="output3"></a>output3</h4><p>4</p>
<h4 id="input4"><a href="#input4" class="headerlink" title="input4"></a>input4</h4><p>9</p>
<p>1 1 0 0 1 0 1 0 1</p>
<p>1 1 2 2 3 3 4 4</p>
<h4 id="output4"><a href="#output4" class="headerlink" title="output4"></a>output4</h4><p>5</p>
<h3 id="Note-2"><a href="#Note-2" class="headerlink" title="Note"></a>Note</h3><p>Pictures below explain the examples. The numbers written in the middle of the nodes are their indices, and the numbers written on the top are the numbers written in the nodes.</p>
<p>In the first example, no matter how you arrange the numbers, the answer is $1$.</p>
<p><img src="/img/cf_1153_d_1.png" alt=""></p>
<p>In the second example, no matter how you arrange the numbers, the answer is $4$.</p>
<p><img src="/img/cf_1153_d_2.png" alt=""></p>
<p>In the third example, one of the best solution to achieve $4$ is to arrange $4$ and $5$ to nodes $4$ and $5$.</p>
<p><img src="/img/cf_1153_d_3.png" alt=""></p>
<p>In the fourth example, the best solution is to arrange $5$ to node $5$.</p>
<p><img src="/img/cf_1153_d_4.png" alt=""></p>
<h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç»™ä½ ä¸€é¢—æœ‰æ ¹æ ‘ï¼Œæ¯ä¸ªéå¶èŠ‚ç‚¹ä¸Šæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œå¯èƒ½ä¸ºminæˆ–è€…maxï¼Œä½ éœ€è¦åœ¨kä¸ªå¶èŠ‚ç‚¹ä¸Šå¡«ä¸Š$1,2,\dots,k$,ä½¿å¾—ç»è¿‡éå¶èŠ‚ç‚¹çš„æ“ä½œä¹‹åï¼Œæ ¹èŠ‚ç‚¹çš„å€¼æœ€å¤§ã€‚</p>
<h3 id="åˆ†æ-3"><a href="#åˆ†æ-3" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ˜¾ç„¶æ˜¯è¦åˆ†æå‡½æ•°çš„ä½œç”¨ã€‚</p>
<p>å¦‚æœæ˜¯å–maxï¼Œè¯´æ˜æ‰€æœ‰çš„å­èŠ‚ç‚¹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæŸä¸€ä¸ªå­èŠ‚ç‚¹çš„å€¼å–åˆ°æœ€å¤§ï¼Œç„¶åå…¶ä»–çš„èŠ‚ç‚¹å…¨å¡åƒåœ¾å€¼ã€‚</p>
<p>å¦‚æœæ˜¯å–minï¼Œè¯´æ˜æ‰€æœ‰å­èŠ‚ç‚¹éƒ½èµ·ä½œç”¨ï¼Œè¯´æ˜æˆ‘ä»¬å¯¹äºæ¯ä¸ªå­èŠ‚ç‚¹éƒ½è¦å°½å¯èƒ½çš„å¤§ã€‚</p>
<p>ç„¶åå°±å¯ä»¥å¾—åˆ°ï¼Œmaxçš„ç­–ç•¥æ˜¯ï¼Œæ‰¾åˆ°å­™å­èŠ‚ç‚¹æœ€å°‘çš„å­èŠ‚ç‚¹ï¼Œå¡«å……å¤§å€¼ï¼Œminçš„ç­–ç•¥æ˜¯ï¼Œå¯¹æ‰€æœ‰å­èŠ‚ç‚¹æ±‚å’Œã€‚</p>
<p>ç„¶åè¿™æ ·å¾—åˆ°çš„å°±æ˜¯æ‰€æœ‰å¯¹ç­”æ¡ˆæœ‰è´¡çŒ®çš„èŠ‚ç‚¹æ•°ï¼Œç„¶åç”¨æ€»ç»“ç‚¹æ•°å‡å»è´¡çŒ®èŠ‚ç‚¹æ•°å°±æ˜¯ç­”æ¡ˆã€‚</p>
<h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ç»™å¤§ä½¬é€’ä¸Šæˆ‘å¥‡ä¸‘æ— æ¯”çš„ä»£ç ã€€(<em>/Ï‰ï¼¼</em>)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">3e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n,cnt;</span><br><span class="line"><span class="keyword">int</span> maxn[maxm];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; son[maxm];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(son[a].size()==<span class="number">0</span>)&#123;</span><br><span class="line">		cnt++;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(maxn[a])&#123;</span><br><span class="line">		<span class="keyword">int</span> minm = <span class="number">1e8</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i:son[a]) minm = min(minm,dfs(i));</span><br><span class="line">		<span class="keyword">return</span> minm;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i:son[a]) sum+=dfs(i);</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;maxn[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>,pre;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;pre;</span><br><span class="line">		son[pre].push_back(i);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> nouse = dfs(<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;cnt - nouse+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="E-Serval-and-Snake"><a href="#E-Serval-and-Snake" class="headerlink" title="E. Serval and Snake"></a>E. Serval and Snake</h2><p><a href="http://codeforces.com/contest/1153/problem/E" target="_blank" rel="noopener">å¼€å¯ä¼ é€é—¨</a></p>
<h3 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><em>This is an interactive problem.</em></p>
<p>Now Serval is a senior high school student in Japari Middle School. However, on the way to the school, he must go across a pond, in which there is a dangerous snake. The pond can be represented as a $n\times n$ grid. The snake has a head and a tail in different cells, and its body is a series of adjacent cells connecting the head and the tail without self-intersecting. If Serval hits its head or tail, the snake will bite him and he will die.</p>
<p>Luckily, he has a special device which can answer the following question: you can pick a rectangle, it will tell you the number of times one needs to cross the border of the rectangle walking cell by cell along the snake from the head to the tail. The pictures below show a possible snake and a possible query to it, which will get an answer of $4$.</p>
<p><img src="/img/cf_1153_e_1.png" alt=""><br><img src="/img/cf_1153_e_2.png" alt=""></p>
<p>Today Serval got up too late and only have time to make 2019 queries. As his best friend, can you help him find the positions of the head and the tail?</p>
<p>Note that two cells are adjacent if and only if they have a common edge in the grid, and a snake can have a body of length 0, that means it only has adjacent head and tail.</p>
<p>Also note that the snake is sleeping, so it wonâ€™t move while Serval using his device. And whatâ€™s obvious is that the snake position does not depend on your queries.</p>
<h3 id="Input-4"><a href="#Input-4" class="headerlink" title="Input"></a>Input</h3><p>The first line contains a single integer $n$ (2â‰¤$n$â‰¤1000) $-$ the size of the grid.</p>
<h3 id="Output-4"><a href="#Output-4" class="headerlink" title="Output"></a>Output</h3><p>When you are ready to answer, you should print <strong>! x1 y1 x2 y2</strong>, where $(x_1,y_1)$ represents the position of the head and $(x_2,y_2)$ represents the position of the tail. You can print head and tail in any order.</p>
<h3 id="Interaction"><a href="#Interaction" class="headerlink" title="Interaction"></a>Interaction</h3><p>To make a query, you should print <strong>? x1 y1 x2 y2</strong> (1â‰¤$x_1$â‰¤$x_2$â‰¤ğ‘›, 1â‰¤$y_1$â‰¤$y_2$â‰¤$n$), representing a rectangle consisting of all cells $(x,y)$ such that $x_1$â‰¤$x$â‰¤$x_2$ and $y_1$â‰¤$y$â‰¤$y_2$. You will get a single integer as the answer.</p>
<p>After printing a query, do not forget to output the end of line and flush the output, otherwise you will get <strong>Idleness limit exceeded</strong>. To do this, use:</p>
<ul>
<li><strong>fflush(stdout)</strong> or <strong>cout.flush()</strong> in C++;</li>
<li><strong>System.out.flush()</strong> in Java;</li>
<li><strong>flush(output)</strong> in Pascal;</li>
<li><strong>stdout.flush()</strong> in Python;<br>see documentation for other languages.</li>
</ul>
<p>Answer $-1$ instead of a valid answer means that you made an invalid query or exceeded the maximum number of queries. Exit immediately after receiving $-1$ and you will see <strong>Wrong answer</strong> verdict. Otherwise you can get an arbitrary verdict because your solution will continue to read from a closed stream.</p>
<p>If your program cannot find out the head and tail of the snake correctly, you will also get a <strong>Wrong Answer</strong> verdict.</p>
<h3 id="Hacks"><a href="#Hacks" class="headerlink" title="Hacks"></a>Hacks</h3><p>To make a hack, print a single integer $n$ (2â‰¤$n$â‰¤1000) in the first line, indicating the size of the grid.</p>
<p>Then print an integer $k$ (2â‰¤$k$â‰¤ğ‘›2) in the second line, indicating the length of the snake.</p>
<p>In the next $k$ lines, print $k$ pairs of integers $x_i,y_i$ (1â‰¤$x_i,y_i$â‰¤ğ‘›), each pair in a single line, indicating the $i$-th cell of snake, such that the adjacent pairs are adjacent, and all $k$ pairs are distinct.</p>
<h3 id="Examples-4"><a href="#Examples-4" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input1-4"><a href="#input1-4" class="headerlink" title="input1"></a>input1</h4><p>2</p>
<p>1</p>
<p>0</p>
<p>0</p>
<h4 id="output1-4"><a href="#output1-4" class="headerlink" title="output1"></a>output1</h4><p>? 1 1 1 1</p>
<p>? 1 2 1 2</p>
<p>? 2 2 2 2</p>
<p>! 1 1 2 1</p>
<h4 id="input2-4"><a href="#input2-4" class="headerlink" title="input2"></a>input2</h4><p>3</p>
<p>2</p>
<p>0</p>
<h4 id="output2-4"><a href="#output2-4" class="headerlink" title="output2"></a>output2</h4><p>? 2 2 2 2</p>
<p>? 2 1 2 3</p>
<p>! 2 1 2 3</p>
<h3 id="Note-3"><a href="#Note-3" class="headerlink" title="Note"></a>Note</h3><p><img src="/img/cf_1153_e_3.png" alt=""><br><img src="/img/cf_1153_e_4.png" alt=""><br><img src="/img/cf_1153_e_5.png" alt=""><br><img src="/img/cf_1153_e_6.png" alt=""></p>
<p>The pictures above show our queries and the answers in the first example. We first made a query for (1,1) and got an answer 1, then found that it must be connected to exactly one other cell. Then we made a query for (1,2) and got an answer of 0, then knew that the snake never entered it. So the cell connected to (1,1) must be (2,1). Then we made a query for (2,2) and got an answer 0, then knew that it never entered (2,2) as well. So the snake cannot leave (2,1), which implies that the answer is (1,1) and (2,1).</p>
<p><img src="/img/cf_1153_e_7.png" alt=""><br><img src="/img/cf_1153_e_8.png" alt=""><br><img src="/img/cf_1153_e_9.png" alt=""></p>
<p>The pictures above show our queries and the answers in the second example. By making query to (2,2) and receiving 2, we found that the snake occupies (2,2). And by making query to rectangle from (2,1) to (2,3) and receiving answer 0, we knew that it never goes out of the rectangle from (2,1) to (2,3). Since the first answer is 2, both (2,1) and (2,3) must be occupied but none of others, so the answer is (2,1) and (2,3).</p>
<h3 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ç°åœ¨æœ‰ä¸€æ¡è›‡åœ¨ä¸€ä¸ªæ–¹æ ¼å›¾ä¸­ï¼Œä½ å¯ä»¥ç»™å‡ºä¸è¶…è¿‡2019æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªçŸ©å½¢ï¼Œå›ç­”æ˜¯ï¼Œä½ ç”¨è¿™ä¸ªçŸ©å½¢å»åˆ‡è›‡ï¼Œå¯ä»¥å¾—åˆ°è¿™ä¸ªè›‡è¢«åˆ‡äº†å¤šå°‘åˆ€ï¼Œç°åœ¨é—®ä½ è›‡å¤´å’Œè›‡å°¾çš„ä½ç½®ã€‚</p>
<h3 id="åˆ†æ-4"><a href="#åˆ†æ-4" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œå½“ä¸€ä¸ªçŸ©å½¢åˆ‡ä¸‹å»ä¹‹åå‘ç°åˆ‡äº†å¥‡æ•°åˆ€ï¼Œé‚£ä¹ˆå¯ä»¥æœ‰å¿…ç„¶å­˜åœ¨ä¸€ä¸ªå¤´æˆ–è€…å°¾åœ¨çŸ©å½¢ä¸­ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥ç”¨$(n-1)&lt;&lt;1$æ¬¡è¯¢é—®å¾—åˆ°æ‰€æœ‰çš„è¡Œå’Œåˆ—å¯¹åº”çš„åˆ‡çš„æ¬¡æ•°ã€‚</p>
<p>ç„¶åå¯ä»¥è¯æ˜çš„æ˜¯ï¼Œæ‰€æœ‰çš„æ•°æ®ä¸­å¿…ç„¶å­˜åœ¨å¥‡æ•°ã€‚åè¯æ³•æ˜“å¾—ã€‚</p>
<p>ç„¶åå¯ä»¥è¯æ˜å¥‡æ•°å¯¹åº”çš„è¡Œæˆ–è€…åˆ—å·¦å³å¿…ç„¶å­˜åœ¨å¤´æˆ–è€…å°¾ã€‚</p>
<p>æ‰€ä»¥å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¾ˆç›´è§‚çš„$O(6n)$çš„åšæ³•ï¼Œ$2n$ç”¨æ¥å¯»æ‰¾ï¼Œå‰©ä¸‹çš„$4n$æ¥æœç´¢ç­”æ¡ˆã€‚ä½†æ˜¯è¿™å¿…ç„¶ä¼šè¶…è¿‡2019.</p>
<p>è€ƒè™‘å“ªäº›æ­¥éª¤å¯ä»¥ä¼˜åŒ–ï¼Ÿ</p>
<p>$2n$ä¸å¯ä¼˜åŒ–ï¼Œå¿…ç„¶å°±åªèƒ½ä¼˜åŒ–æœç´¢è¿‡ç¨‹ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯èƒ½å­˜åœ¨è¡Œæˆ–è€…åˆ—ä¸å­˜åœ¨å¥‡æ•°çš„æƒ…å†µï¼Œç¨å¾®åˆ†æå¯ä»¥å¾—åˆ°è¿™ç§æƒ…å†µçš„ç‰¹ç‚¹äº†ï¼Œå¤´å’Œå°¾åœ¨åŒä¸€è¡Œæˆ–è€…åŒä¸€åˆ—ä¸­ã€‚</p>
<p>æˆ‘ä»¬è€ƒè™‘åˆ°ï¼Œæˆ‘ä»¬åªç”¨è€ƒè™‘å¥‡å¶çš„æƒ…å†µï¼Œè€Œä¸ç”¨è€ƒè™‘å…·ä½“å€¼ã€‚</p>
<p>å› ä¸ºå¥‡å¶çš„åŠ å‡ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥äºŒåˆ†è¿™ä¸ªç­”æ¡ˆã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœè¡Œå’Œåˆ—éƒ½æœ‰å¥‡æ•°å€¼ï¼Œé‚£ä¹ˆå¯ä»¥å¾—åˆ°è¡Œå’Œåˆ—å¯¹åº”çš„å››ä¸ªç‚¹ä¸­ï¼Œä¸¤ä¸ªç‚¹æ˜¯ç­”æ¡ˆï¼Œæšä¸¾ä»»ä½•ä¸€ä¸ªå°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚</p>
<h3 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ç»™å¤§ä½¬é€’ä¸Šæˆ‘å¥‡ä¸‘æ— æ¯”çš„ä»£ç ã€€(<em>/Ï‰ï¼¼</em>)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; r,c;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">que</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> d,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"? %d %d %d %d\n"</span>,u,l,d,r);</span><br><span class="line">	fflush(<span class="built_in">stdout</span>);</span><br><span class="line">	<span class="keyword">int</span> nouse;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;nouse);</span><br><span class="line">	<span class="keyword">return</span> nouse&amp;<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span>(que(i,i,<span class="number">1</span>,n)) r.push_back(i);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=n;i++) <span class="keyword">if</span>(que(<span class="number">1</span>,n,i,i)) c.push_back(i);</span><br><span class="line">	assert(r.size()+c.size()&gt;=<span class="number">2</span>);</span><br><span class="line">	<span class="keyword">if</span>(c.empty()||r.empty())&#123;</span><br><span class="line">		<span class="keyword">bool</span> change = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(c.empty()) &#123;</span><br><span class="line">			swap(r,c);</span><br><span class="line">			change = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> l = <span class="number">1</span>,r = n;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">			<span class="keyword">int</span> mid = l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">int</span> upper = l,down = mid,left = c[<span class="number">0</span>],right = c[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">if</span>(change) swap(left,upper),swap(down,right);</span><br><span class="line">			<span class="keyword">if</span>(que(upper,down,left,right)) r = mid;</span><br><span class="line">			<span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!change) <span class="built_in">printf</span>(<span class="string">"! %d %d %d %d\n"</span>,l,c[<span class="number">1</span>],l,c[<span class="number">0</span>]);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"! %d %d %d %d\n"</span>,c[<span class="number">0</span>],l,c[<span class="number">1</span>],l);</span><br><span class="line">		fflush(<span class="built_in">stdout</span>);</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(que(r[<span class="number">0</span>],r[<span class="number">0</span>],c[<span class="number">0</span>],c[<span class="number">0</span>])) <span class="built_in">printf</span>(<span class="string">"! %d %d %d %d\n"</span>,r[<span class="number">0</span>],c[<span class="number">0</span>],r[<span class="number">1</span>],c[<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"! %d %d %d %d\n"</span>,r[<span class="number">0</span>],c[<span class="number">1</span>],r[<span class="number">1</span>],c[<span class="number">0</span>]);</span><br><span class="line">	fflush(<span class="built_in">stdout</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="F-Serval-and-Bonus-Problem"><a href="#F-Serval-and-Bonus-Problem" class="headerlink" title="F. Serval and Bonus Problem"></a>F. Serval and Bonus Problem</h2><p><a href="https://codeforces.com/contest/1153/problem/F" target="_blank" rel="noopener">å¼€å¯ä¼ é€é—¨</a></p>
<h3 id="é¢˜ç›®æè¿°-5"><a href="#é¢˜ç›®æè¿°-5" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>Getting closer and closer to a mathematician, Serval becomes a university student on math major in Japari University. On the Calculus class, his teacher taught him how to calculate the expected length of a random subsegment of a given segment. Then he left a bonus problem as homework, with the award of a garage kit from IOI. The bonus is to extend this problem to the general case as follows.</p>
<p>You are given a segment with length $l$. We randomly choose $n$ segments by choosing two points (maybe with non-integer coordinates) from the given segment equiprobably and the interval between the two points forms a segment. You are given the number of random segments $n$, and another integer $k$. The $2n$ endpoints of the chosen segments split the segment into ($2n+1$) intervals. Your task is to calculate the expected total length of those intervals that are covered by at least $k$ segments of the $n$ random segments.</p>
<p>You should find the answer modulo $998244353$.</p>
<h3 id="Input-5"><a href="#Input-5" class="headerlink" title="Input"></a>Input</h3><p>First line contains three space-separated positive integers ğ‘›, ğ‘˜ and ğ‘™ ($1\leq k\leq n\leq 2000,1\leq l\leq 10^9$).</p>
<h3 id="Output-5"><a href="#Output-5" class="headerlink" title="Output"></a>Output</h3><p>Output one integer â€” the expected total length of all the intervals covered by at least $k$ segments of the $n$ random segments modulo $998244353$.</p>
<p>Formally, let $M=998244353$. It can be shown that the answer can be expressed as an irreducible fraction $\frac{p}{q}$, where $p$ and $q$ are integers and $q\not\equiv0(modM)$. Output the integer equal to $p\cdot q^{-1}mod\ M$. In other words, output such an integer $x$ that $0\leq x&lt;M$ and $x\cdot q\equiv p(mod\ M)$.</p>
<h3 id="Examples-5"><a href="#Examples-5" class="headerlink" title="Examples"></a>Examples</h3><h4 id="inpus1"><a href="#inpus1" class="headerlink" title="inpus1"></a>inpus1</h4><p>1 1 1</p>
<h4 id="output1-5"><a href="#output1-5" class="headerlink" title="output1"></a>output1</h4><p>332748118</p>
<h4 id="input2-5"><a href="#input2-5" class="headerlink" title="input2"></a>input2</h4><p>6 2 1</p>
<h4 id="output2-5"><a href="#output2-5" class="headerlink" title="output2"></a>output2</h4><p>760234711</p>
<h4 id="input3-2"><a href="#input3-2" class="headerlink" title="input3"></a>input3</h4><p>7 5 3</p>
<h4 id="output3-2"><a href="#output3-2" class="headerlink" title="output3"></a>output3</h4><p>223383352</p>
<h4 id="input4-1"><a href="#input4-1" class="headerlink" title="input4"></a>input4</h4><p>97 31 9984524</p>
<h4 id="output4-1"><a href="#output4-1" class="headerlink" title="output4"></a>output4</h4><p>267137618</p>
<h3 id="Note-4"><a href="#Note-4" class="headerlink" title="Note"></a>Note</h3><p>In the first example, the expected total length is $\int_0^1 \int_0^1 |x-y|\ dx\ dy = \frac{1}{3} $, and $\frac{1}{3}$ modulo $998244353$ is $332748118$.</p>
<h3 id="é¢˜æ„-5"><a href="#é¢˜æ„-5" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é•¿åº¦ä¸ºlçš„çº¿æ®µï¼Œéšæœºé€‰å–nä¸ªçº¿æ®µï¼Œçº¿æ®µä¸­è‡³å°‘è¢«nä¸ªçº¿æ®µä¸­kä¸ªçº¿æ®µè¦†ç›–çš„é•¿åº¦æœŸæœ›ã€‚</p>
<h3 id="åˆ†æ-5"><a href="#åˆ†æ-5" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>è¯´å®è¯æˆ‘å½“æ—¶æ²¡åšå‡ºæ¥ï¼Œçœ‹äº†é¢˜è§£æ‰çŸ¥é“æ€ä¹ˆåšçš„ï¼Œæ‰€ä»¥å¼ºçƒˆå»ºè®®çœ‹å®˜æ–¹çš„é¢˜è§£ã€‚æˆ‘è¿™é‡Œä¹Ÿè´´å‡ºæ¥ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹ä¸€ä¸‹ã€‚</p>
<p>Without loss of generality, assume that $l$=1. For a segment covering, the total length of the legal intervals is the probability that we choose another point $P$ on this segment randomly such that it is in the legal intervals. Since all $2n+1$ points ($P$ and the endpoints of each segment) are chosen randomly and independently, we only need to find the probability that point $P$ is in the legal intervals. Note that only the order of these $2n+1$ points make sense. Because the points are chosen in the segment, the probability that some of them coincide is $0$, so we can assume that all points do not coincide.</p>
<p>Now the problem is, how to calculate the number of arrangements that $P$ is between at least $k$ pairs of endpoints. It can be solved by dynamic programming in time complexity of $O(n^2)$. We define $f(i,j,x)$ as the number of arrangements for the first $i$ positions, with $j$ points havenâ€™t been matched, and $P$ appeared $x$ times (obviously $x=0$ or $1$). So we can get three different types of transition for the $i$-th position below:</p>
<ul>
<li>Place $P$ at $i$-th position (if $j\geq k$): $f(i-1,j,0)\rightarrow f(i,j,1)$</li>
<li>Start a new segment (if $i+j+x&lt;2n$): $f(i-1,j-1,x)\rightarrow f(i,j,x)$</li>
<li>Match a started segment, note that we have ğ‘— choices of segments:$f(i-1,j+1,x)\times(j+1)\rightarrow f(i,j,x)$</li>
</ul>
<p>Then $f(2n+1,0,1)$ is the number of legal arrangements. Obviously, the total number of arrangements is $(2n+1)!$. However, there are ğ‘› pairs of endpoints whose indices can be swapped, and the indices ğ‘› segments can be rearranged. So the final answer is $\frac{f(2n+1,0,1)\times n!\times 2^n}{(2n+1)!}$.</p>
<p>å¯èƒ½æ˜¯å—äº†é¢˜è§£çš„å½±å“ï¼Œåæ¥ä¹Ÿæ²¡æƒ³å‡ºæ¥å…¶ä»–è§£æ³•ã€‚</p>
<p>è¿™é‡Œè®²ä¸€ä¸‹é¢˜è§£æ€ä¹ˆåšçš„ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé•¿åº¦å’Œç­”æ¡ˆæˆæ­£æ¯”ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœé•¿åº¦ä¸º1çš„æ—¶å€™ç­”æ¡ˆæ˜¯aï¼Œé‚£ä¹ˆé•¿åº¦ä¸º2çš„æ—¶å€™ç­”æ¡ˆå°±æ˜¯2a%mod.</p>
<p>ç„¶åæˆ‘ä»¬ä¸å¦¨è®¾é•¿åº¦ä¸º1ï¼Œæœ€åç­”æ¡ˆä¹˜ä¸Šlå°±è¡Œäº†ã€‚</p>
<p>ç„¶åå› ä¸ºæˆ‘ä»¬è¦æ‰¾åˆ°è‡³å°‘è¢«çº¿æ®µè¦†ç›–kæ¬¡çš„æ‰€æœ‰ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦‚åŠ ä¸Šä¸€ä¸ªè™šæ‹Ÿç‚¹ï¼Œè¿™æ ·å°±ä¸€å…±æœ‰äº†$(n&lt;&lt;1|1)$ä¸ªç‚¹ï¼Œç„¶åéœ€è¦åˆ¤æ–­è¿™ä¸ªè™šæ‹Ÿç‚¹è¢«å¤šå°‘æ¡çº¿æ®µè¦†ç›–äº†ï¼Œå¦‚æœè¦†ç›–æ¬¡æ•°è¶…è¿‡kæ¬¡ï¼Œå°±è¯´æ˜å¯ä»¥ç»Ÿè®¡è¿›ç­”æ¡ˆã€‚ç„¶åå°±å¯ä»¥å‘ç°ï¼Œæ‰€æœ‰ç‚¹æ˜¯éšæœºå–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡è®¾æ‰€æœ‰ç‚¹ä¸ä¼šé‡åˆï¼Œé‚£ä¹ˆæ‰€æœ‰ç‚¹å°±å¯ä»¥ç¦»æ•£æˆä¸€ä¸ªåºåˆ—ã€‚ç„¶åå°±å¯ä»¥ç»Ÿè®¡kçš„è¦†ç›–æ¬¡æ•°ã€‚</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯dpï¼Œæˆ‘ä»¬è®¾$dp[i][j][flag]$è¡¨ç¤ºåºåˆ—ä¸­å‰iä¸ªç‚¹ï¼Œå…¶ä¸­åˆ°ç›®å‰ä¸ºæ­¢æœ‰jæ¡çº¿æ®µå·¦èŠ‚ç‚¹å‡ºçº¿äº†ï¼Œä½†æ˜¯å³èŠ‚ç‚¹æ²¡æœ‰å‡ºç°ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰è¿™ä¸ªç‚¹è¢«è¦†ç›–äº†jæ¬¡ï¼Œflagè¡¨ç¤ºè™šæ‹Ÿç‚¹æ˜¯å¦å‡ºç°äº†ã€‚ç„¶åè€ƒè™‘è½¬ç§»ï¼š</p>
<ul>
<li>å½“å‰èŠ‚ç‚¹æ˜¯è™šæ‹ŸèŠ‚ç‚¹<ul>
<li>å¦‚æœè¿™ä¸ªéœ€è¦ç»Ÿè®¡è¿›å…¥ç­”æ¡ˆï¼Œä¹Ÿå°±æ˜¯è¯´æ˜å½“å‰èŠ‚ç‚¹éœ€è¦è¢«è¦†ç›–kæ¬¡åŠä»¥ä¸Šï¼Œæ‰€ä»¥ $j\geq k$</li>
<li>$dp[i][j][1]+=dp[i-1][j][0]$</li>
</ul>
</li>
<li>å½“å‰èŠ‚ç‚¹æ˜¯ä¸€ä¸ªçº¿æ®µçš„å·¦ç«¯ç‚¹<ul>
<li>ä¹Ÿå°±æ˜¯è¯´å·¦èŠ‚ç‚¹æ•°é‡å¢åŠ ï¼Œè¢«è¦†ç›–æ¬¡æ•°å¢åŠ ï¼Œä½†æ˜¯ä¸ä¼šå½±å“è™šæ‹ŸèŠ‚ç‚¹çš„çŠ¶æ€</li>
<li>$dp[i][j+1][flag]+=dp[i-1][j][flag]$</li>
</ul>
</li>
<li>å½“å‰èŠ‚ç‚¹æ˜¯ä¸€ä¸ªçº¿æ®µçš„å³ç«¯ç‚¹<ul>
<li>ä¹Ÿå°±æ˜¯è¯´å³èŠ‚ç‚¹æ•°é‡å¢åŠ ï¼Œè¢«è¦†ç›–æ¬¡æ•°å‡å°‘ï¼Œä½†æ˜¯ä¸ä¼šå½±å“è™šæ‹ŸèŠ‚ç‚¹çš„çŠ¶æ€,æ³¨æ„å³ç«¯ç‚¹å¯èƒ½ä¼šæœ‰jä¸ªå¯èƒ½</li>
<li>$dp[i][j-1][flag]+=dp[i-1][j][flag]*j$</li>
</ul>
</li>
</ul>
<h3 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ç»™å¤§ä½¬é€’ä¸Šæˆ‘å¥‡ä¸‘æ— æ¯”çš„ä»£ç ã€€(<em>/Ï‰ï¼¼</em>)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">2345</span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">add</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span>&#123;<span class="keyword">return</span> (a+b)%mod;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">mul</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span>&#123;<span class="keyword">return</span> a*b%mod;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">fac</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a)</span> </span>&#123;<span class="keyword">return</span> a==<span class="number">1</span>?<span class="number">1</span>:mul(a,fac(a<span class="number">-1</span>));&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">qpow</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b = mod<span class="number">-2</span>)</span></span>&#123;<span class="comment">/*&#123;&#123;&#123;*/</span></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ret = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(b)&#123;</span><br><span class="line">		<span class="keyword">if</span>(b&amp;<span class="number">1</span>) ret = mul(ret,a);</span><br><span class="line">		a = mul(a,a);</span><br><span class="line">		b&gt;&gt;=<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;<span class="comment">/*&#125;&#125;&#125;*/</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n,k,l;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> dp[maxm&lt;&lt;<span class="number">1</span>][maxm][<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld"</span>,&amp;n,&amp;k,&amp;l);</span><br><span class="line">	dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=(n&lt;&lt;<span class="number">1</span>|<span class="number">1</span>);i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j&lt;=n;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(j&gt;=k) dp[i][j][<span class="number">1</span>] = add(dp[i][j][<span class="number">1</span>],dp[i<span class="number">-1</span>][j][<span class="number">0</span>]);</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> flag = <span class="number">0</span>;flag&lt;<span class="number">2</span>;flag++)</span><br><span class="line">				<span class="keyword">if</span>(dp[i<span class="number">-1</span>][j][flag])&#123;</span><br><span class="line">					<span class="keyword">if</span>(j) dp[i][j<span class="number">-1</span>][flag] = add(dp[i][j<span class="number">-1</span>][flag],mul(dp[i<span class="number">-1</span>][j][flag],j));</span><br><span class="line">					<span class="keyword">if</span>(i+(j+<span class="number">1</span>)-(<span class="number">1</span>-flag)&lt;=(n&lt;&lt;<span class="number">1</span>|<span class="number">1</span>)) dp[i][j+<span class="number">1</span>][flag] = add(dp[i][j+<span class="number">1</span>][flag],dp[i<span class="number">-1</span>][j][flag]);</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">int</span> ans = mul(dp[n&lt;&lt;<span class="number">1</span>|<span class="number">1</span>][<span class="number">0</span>][<span class="number">1</span>],qpow(<span class="number">2</span>,n));</span><br><span class="line">	ans = mul(mul(ans,l),mul(fac(n),qpow(fac(n&lt;&lt;<span class="number">1</span>|<span class="number">1</span>))));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div></div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="https://github.com/zuhiul/zuhiul.github.io/blob/master/img/reward_wx.png?raw=true" alt="zuhiul WeChat Pay">
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="https://github.com/zuhiul/zuhiul.github.io/blob/master/img/reward_zfb.jpg?raw=true" alt="zuhiul Alipay">
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/CF/" rel="tag"><i class="fa fa-tag"></i> CF</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/31/factorio/" rel="next" title="factorio">
                <i class="fa fa-chevron-left"></i> factorio
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/17/CF/Codeforces_Round_552/" rel="prev" title="Codeforces Round 552">
                Codeforces Round 552 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
	<div id="gitalk-container"></div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://github.com/zuhiul/zuhiul.github.io/blob/master/img/main_image.jpg?raw=true" alt="zuhiul">
            
              <p class="site-author-name" itemprop="name">zuhiul</p>
              <p class="site-description motion-element" itemprop="description">èœé¸¡æˆé•¿å²</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">57</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                æ¯”æˆ‘å‰å®³å¾ˆå¤šå¾ˆå¤šçš„å·¨ä½¬ä»¬
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://ycdzj.github.io/" title="ycè‡ªåŠ¨æœº" target="_blank">ycè‡ªåŠ¨æœº</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://sciorz.github.io/" title="lqtql" target="_blank">lqtql</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://lucien.ink/" title="å…¨çŸ¥å…¨èƒ½æ°´" target="_blank">å…¨çŸ¥å…¨èƒ½æ°´</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://XorSum.github.io/" title="éŸ©é˜Ÿ" target="_blank">éŸ©é˜Ÿ</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.cnblogs.com/NeilThang/" title="å”å¤§ä½¬" target="_blank">å”å¤§ä½¬</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#A-Serval-and-Bus"><span class="nav-number">1.</span> <span class="nav-text">A. Serval and Bus</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜ç›®æè¿°"><span class="nav-number">1.1.</span> <span class="nav-text">é¢˜ç›®æè¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input"><span class="nav-number">1.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output"><span class="nav-number">1.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples"><span class="nav-number">1.4.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#input1"><span class="nav-number">1.4.1.</span> <span class="nav-text">input1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output1"><span class="nav-number">1.4.2.</span> <span class="nav-text">output1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input2"><span class="nav-number">1.4.3.</span> <span class="nav-text">input2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output2"><span class="nav-number">1.4.4.</span> <span class="nav-text">output2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input3"><span class="nav-number">1.4.5.</span> <span class="nav-text">input3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output3"><span class="nav-number">1.4.6.</span> <span class="nav-text">output3</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜æ„"><span class="nav-number">1.5.</span> <span class="nav-text">é¢˜æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æ"><span class="nav-number">1.6.</span> <span class="nav-text">åˆ†æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç "><span class="nav-number">1.7.</span> <span class="nav-text">ä»£ç </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#B-Serval-and-Toy-Bricks"><span class="nav-number">2.</span> <span class="nav-text">B. Serval and Toy Bricks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜ç›®æè¿°-1"><span class="nav-number">2.1.</span> <span class="nav-text">é¢˜ç›®æè¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-1"><span class="nav-number">2.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-1"><span class="nav-number">2.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-1"><span class="nav-number">2.4.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#input1-1"><span class="nav-number">2.4.1.</span> <span class="nav-text">input1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output1-1"><span class="nav-number">2.4.2.</span> <span class="nav-text">output1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input2-1"><span class="nav-number">2.4.3.</span> <span class="nav-text">input2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output2-1"><span class="nav-number">2.4.4.</span> <span class="nav-text">output2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note"><span class="nav-number">2.5.</span> <span class="nav-text">Note</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜æ„-1"><span class="nav-number">2.6.</span> <span class="nav-text">é¢˜æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æ-1"><span class="nav-number">2.7.</span> <span class="nav-text">åˆ†æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç -1"><span class="nav-number">2.8.</span> <span class="nav-text">ä»£ç </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-Serval-and-Parenthesis-Sequence"><span class="nav-number">3.</span> <span class="nav-text">C. Serval and Parenthesis Sequence</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜ç›®æè¿°-2"><span class="nav-number">3.1.</span> <span class="nav-text">é¢˜ç›®æè¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-2"><span class="nav-number">3.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-2"><span class="nav-number">3.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-2"><span class="nav-number">3.4.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#input1-2"><span class="nav-number">3.4.1.</span> <span class="nav-text">input1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output1-2"><span class="nav-number">3.4.2.</span> <span class="nav-text">output1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input2-2"><span class="nav-number">3.4.3.</span> <span class="nav-text">input2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output2-2"><span class="nav-number">3.4.4.</span> <span class="nav-text">output2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note-1"><span class="nav-number">3.5.</span> <span class="nav-text">Note</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜æ„-2"><span class="nav-number">3.6.</span> <span class="nav-text">é¢˜æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æ-2"><span class="nav-number">3.7.</span> <span class="nav-text">åˆ†æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç -2"><span class="nav-number">3.8.</span> <span class="nav-text">ä»£ç </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#D-Serval-and-Rooted-Tree"><span class="nav-number">4.</span> <span class="nav-text">D. Serval and Rooted Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜ç›®æè¿°-3"><span class="nav-number">4.1.</span> <span class="nav-text">é¢˜ç›®æè¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-3"><span class="nav-number">4.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-3"><span class="nav-number">4.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-3"><span class="nav-number">4.4.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#input1-3"><span class="nav-number">4.4.1.</span> <span class="nav-text">input1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output1-3"><span class="nav-number">4.4.2.</span> <span class="nav-text">output1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input2-3"><span class="nav-number">4.4.3.</span> <span class="nav-text">input2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output2-3"><span class="nav-number">4.4.4.</span> <span class="nav-text">output2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input3-1"><span class="nav-number">4.4.5.</span> <span class="nav-text">input3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output3-1"><span class="nav-number">4.4.6.</span> <span class="nav-text">output3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input4"><span class="nav-number">4.4.7.</span> <span class="nav-text">input4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output4"><span class="nav-number">4.4.8.</span> <span class="nav-text">output4</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note-2"><span class="nav-number">4.5.</span> <span class="nav-text">Note</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜æ„-3"><span class="nav-number">4.6.</span> <span class="nav-text">é¢˜æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æ-3"><span class="nav-number">4.7.</span> <span class="nav-text">åˆ†æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç -3"><span class="nav-number">4.8.</span> <span class="nav-text">ä»£ç </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#E-Serval-and-Snake"><span class="nav-number">5.</span> <span class="nav-text">E. Serval and Snake</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜ç›®æè¿°-4"><span class="nav-number">5.1.</span> <span class="nav-text">é¢˜ç›®æè¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-4"><span class="nav-number">5.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-4"><span class="nav-number">5.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Interaction"><span class="nav-number">5.4.</span> <span class="nav-text">Interaction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hacks"><span class="nav-number">5.5.</span> <span class="nav-text">Hacks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-4"><span class="nav-number">5.6.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#input1-4"><span class="nav-number">5.6.1.</span> <span class="nav-text">input1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output1-4"><span class="nav-number">5.6.2.</span> <span class="nav-text">output1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input2-4"><span class="nav-number">5.6.3.</span> <span class="nav-text">input2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output2-4"><span class="nav-number">5.6.4.</span> <span class="nav-text">output2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note-3"><span class="nav-number">5.7.</span> <span class="nav-text">Note</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜æ„-4"><span class="nav-number">5.8.</span> <span class="nav-text">é¢˜æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æ-4"><span class="nav-number">5.9.</span> <span class="nav-text">åˆ†æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç -4"><span class="nav-number">5.10.</span> <span class="nav-text">ä»£ç </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#F-Serval-and-Bonus-Problem"><span class="nav-number">6.</span> <span class="nav-text">F. Serval and Bonus Problem</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜ç›®æè¿°-5"><span class="nav-number">6.1.</span> <span class="nav-text">é¢˜ç›®æè¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-5"><span class="nav-number">6.2.</span> <span class="nav-text">Input</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Output-5"><span class="nav-number">6.3.</span> <span class="nav-text">Output</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Examples-5"><span class="nav-number">6.4.</span> <span class="nav-text">Examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#inpus1"><span class="nav-number">6.4.1.</span> <span class="nav-text">inpus1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output1-5"><span class="nav-number">6.4.2.</span> <span class="nav-text">output1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input2-5"><span class="nav-number">6.4.3.</span> <span class="nav-text">input2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output2-5"><span class="nav-number">6.4.4.</span> <span class="nav-text">output2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input3-2"><span class="nav-number">6.4.5.</span> <span class="nav-text">input3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output3-2"><span class="nav-number">6.4.6.</span> <span class="nav-text">output3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#input4-1"><span class="nav-number">6.4.7.</span> <span class="nav-text">input4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#output4-1"><span class="nav-number">6.4.8.</span> <span class="nav-text">output4</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Note-4"><span class="nav-number">6.5.</span> <span class="nav-text">Note</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é¢˜æ„-5"><span class="nav-number">6.6.</span> <span class="nav-text">é¢˜æ„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åˆ†æ-5"><span class="nav-number">6.7.</span> <span class="nav-text">åˆ†æ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»£ç -5"><span class="nav-number">6.8.</span> <span class="nav-text">ä»£ç </span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <span id="busuanzi_container_site_pv" class="theme-info">
&nbsp;&nbsp;|&nbsp;&nbsp;æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
  </span>
  <span id="busuanzi_container_site_uv" class="theme-info">
&nbsp;&nbsp;|&nbsp;&nbsp;æœ¬ç«™è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äºº
  </span>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-snowflake-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zuhiul</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">60.4k</span>
  
</div>









        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  

  
</div>








        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    
      <script type="text/javascript">
      function renderGitment(){
        var gitment = new Gitmint({
            id: window.location.pathname, 
            owner: 'zuhiul',
            repo: 'github-comment',
            
            lang: "" || navigator.language || navigator.systemLanguage || navigator.userLanguage,
            
            oauth: {
            
            
                client_secret: '6371d831459d18b5b5f8f4cb56c4fb470ab4588e',
            
                client_id: '95df1827c7da135a186d'
            }});
        gitment.render('gitment-container');
      }

      
      renderGitment();
      
      </script>
    







      
      
       



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
